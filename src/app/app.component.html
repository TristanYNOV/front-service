<div class="w-dvw h-dvh flex flex-col">
  <app-header [currentSpace]="'Accueil'" />

  <main class="flex-1 overflow-hidden" [class.flex]="showSidebar">
    <ng-container *ngIf="showSidebar">
      <!-- Sidebar gauche : Idle + Saved -->
      <section class="w-[20%] min-w-[200px] max-w-[300px] bg-layer-1 p-2 flex flex-col gap-4 overflow-y-auto">
        <!-- IDLE -->
        <div id="idle-section" class="bg-layer-3 rounded-xl shadow p-2 h-1/2 light-text">
          <h2 class="text-sm font-semibold mb-2">ğŸŸ¡ DonnÃ©es en attente</h2>
          @if (idleItems().length > 0) {
            <div class="space-y-2">
              @for (item of idleItems(); track item.id) {
                <app-mini [item]="item"/>
              }
            </div>
          } @else {
            <p class="text-xs text-gray-500">Aucune donnÃ©e en attente.</p>
          }
        </div>

        <!-- SAVED -->
        <div id="saved-section" class="bg-layer-3 rounded-xl shadow p-2 h-1/2 light-text">
          <h2 class="text-sm font-semibold mb-2">ğŸ’¾ DonnÃ©es sauvegardÃ©es</h2>
          @if (savedItems().length > 0) {
            <div class="space-y-2">
              @for (item of savedItems(); track item.id) {
                <app-mini [item]="item" />
              }
            </div>
          } @else {
            <p class="text-xs text-gray-500">Aucune donnÃ©e sauvegardÃ©e.</p>
          }
        </div>
      </section>

      <div class="separator h-[80%] self-center mx-2"></div>
    </ng-container>

    <!-- Affichage principal -->
    <section class="p-2 overflow-y-auto" [class.flex-1]="showSidebar" [class.w-full]="!showSidebar">
      <router-outlet />
    </section>
  </main>
</div>
